<div class="products" [formGroup]="form" fxFlex fxLayout="column" fxLayoutGap="20px">
  <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
    <div class="img-box">
      <img [src]="svgPath + 'doc-icon-blue.svg'" />
    </div>
    <h2>Products</h2>
  </div>
  <div fxLayout="column">
    <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="20px">
      <il-pill *ngFor="let product of formProducts?.get('products')?.controls; let i = index;"
        [item]="product?.value" [enableHighlight]="true"
        (removeEmitter)="onRemove($event)" [selectable]="true">
      </il-pill>
    </div>
    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
      <il-input-select fxFlex="25" [form]="form" [controlName]="'name'" [isReadOnly]="isRightNavOpen"></il-input-select>
      <il-input fxFlex="25" [form]="form" [isNumberOnly]="true" [controlName]="'qty'" placeholder="Enter quantity" [isReadOnly]="isRightNavOpen"></il-input>
      <il-input fxFlex="25" [form]="form" [isNumberOnly]="true" [controlName]="'cost'" placeholder="Enter unit cost" [isReadOnly]="true"></il-input>
      <button [disabled]="!form.valid" mat-flat-button class="il-button primary" (click)="addProduct()">
        Add Product
      </button>
      <div><mat-checkbox (change)="onShowSubProduct()"></mat-checkbox></div>
    </div>
    <div *ngIf="isSubProduct" class="sub-product" fxFlex>
      <div *ngFor="let item of subProducts;  let i = index ">
        <div  fxFlex fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
          <il-input-select fxFlex="25" [form]="form" [controlName]="'name'"></il-input-select>
          <il-input fxFlex="25" [form]="form" [isNumberOnly]="true" [controlName]="'qty'" placeholder="Enter quantity" [isReadOnly]="true"></il-input>
          <il-input fxFlex="25" [form]="form" [isNumberOnly]="true" [controlName]="'cost'" placeholder="Enter unit cost"></il-input>
          <div>
            <img (click)="onAddSubProduct()" [src]="svgPath + 'add-icon-blue.svg'">
            <img (click)="onRemoveSubProduct(i)" [src]="svgPath + 'delete-icon-red.svg'">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
